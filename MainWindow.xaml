<Window
    x:Class="AutoPowerTimeOut.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:ikw="http://schemas.inkore.net/lib/ui/wpf"
    xmlns:local="clr-namespace:AutoPowerTimeOut"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:ui="http://schemas.inkore.net/lib/ui/wpf/modern"
    x:Name="Window"
    Title="Auto Power Timeout"
    Width="800"
    Height="450"
    ui:ThemeManager.IsThemeAware="True"
    ui:ThemeManager.RequestedTheme="Default"
    ui:TitleBar.ExtendViewIntoTitleBar="True"
    ui:TitleBar.Height="48"
    ui:WindowHelper.SystemBackdropType="Mica"
    ui:WindowHelper.UseModernWindowStyle="True"
    Closing="Window_Closing"
    DataContext="{Binding RelativeSource={RelativeSource Self}}"
    WindowStartupLocation="CenterScreen"
    mc:Ignorable="d">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="{Binding ElementName=Window, Path=(ui:TitleBar.Height)}" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>

        <StackPanel Orientation="Horizontal">
            <Image
                Width="20"
                Margin="20,4,0,0"
                RenderOptions.BitmapScalingMode="HighQuality"
                Source="/icon.png" />
            <TextBlock
                x:Name="AppTitleText"
                Margin="12,4,0,0"
                VerticalAlignment="Center"
                FontWeight="Bold"
                Style="{DynamicResource CaptionTextBlockStyle}"
                Text="Auto Power Time-out"
                TextWrapping="NoWrap" />
            <TextBlock
                Margin="12,4,0,0"
                VerticalAlignment="Center"
                Style="{DynamicResource CaptionTextBlockStyle}"
                Text="{Binding FileVersion}"
                TextWrapping="NoWrap" />
        </StackPanel>

        <ui:ScrollViewerEx Grid.Row="1">
            <ikw:SimpleStackPanel Margin="16,0,16,16" Spacing="4">
                <ui:SettingsExpander Description="Choose what happens when yur device is idle for a specified time" Header="Screen, sleep &amp; hibernate time-outs">
                    <ui:SettingsExpander.ItemsHeader>
                        <ikw:SimpleStackPanel Spacing="1">
                            <Border Background="{DynamicResource SettingsCardBackground}">
                                <ikw:SimpleStackPanel Margin="8,12,8,12" Spacing="4">
                                    <TextBlock
                                        Margin="4"
                                        VerticalAlignment="Center"
                                        FontSize="14"
                                        FontWeight="Bold"
                                        Foreground="{ui:ThemeResource {x:Static ui:ThemeKeys.TextFillColorPrimaryBrushKey}}"
                                        Text="Plugged in" />
                                    <ui:SettingsCard Header="Turn my screen off after">
                                        <ComboBox
                                            DisplayMemberPath="Display"
                                            ItemsSource="{Binding PluggedInItemSource}"
                                            SelectedValue="{Binding PluggedInScreen}"
                                            SelectedValuePath="Value" />
                                    </ui:SettingsCard>
                                    <ui:SettingsCard Header="Turn my screen off after">
                                        <ComboBox
                                            DisplayMemberPath="Display"
                                            ItemsSource="{Binding PluggedInItemSource}"
                                            SelectedValue="{Binding PluggedInSleep}"
                                            SelectedValuePath="Value" />
                                    </ui:SettingsCard>
                                </ikw:SimpleStackPanel>
                            </Border>

                            <Border Background="{DynamicResource SettingsCardBackground}">
                                <ikw:SimpleStackPanel Margin="8,8,8,12" Spacing="4">
                                    <TextBlock
                                        Margin="4"
                                        VerticalAlignment="Center"
                                        FontSize="14"
                                        FontWeight="Bold"
                                        Foreground="{ui:ThemeResource {x:Static ui:ThemeKeys.TextFillColorPrimaryBrushKey}}"
                                        Text="On battery" />
                                    <ui:SettingsCard Header="Turn my screen off after">
                                        <ComboBox
                                            DisplayMemberPath="Display"
                                            ItemsSource="{Binding OnBatteryItemSource}"
                                            SelectedValue="{Binding OnBatteryScreen}"
                                            SelectedValuePath="Value" />
                                    </ui:SettingsCard>
                                    <ui:SettingsCard Header="Turn my screen off after">
                                        <ComboBox
                                            DisplayMemberPath="Display"
                                            ItemsSource="{Binding OnBatteryItemSource}"
                                            SelectedValue="{Binding OnBatterySleep}"
                                            SelectedValuePath="Value" />
                                    </ui:SettingsCard>
                                </ikw:SimpleStackPanel>
                            </Border>

                            <ikw:SimpleStackPanel Background="{DynamicResource SettingsCardBackground}" Spacing="4">
                                <StackPanel Margin="8,0,8,8" Orientation="Horizontal">
                                    <TextBlock
                                        Margin="4"
                                        VerticalAlignment="Center"
                                        FontSize="14"
                                        FontWeight="Bold"
                                        Foreground="{ui:ThemeResource {x:Static ui:ThemeKeys.TextFillColorPrimaryBrushKey}}"
                                        Text="Related links" />
                                    <ui:HyperlinkButton
                                        Margin="4,0,4,4"
                                        VerticalAlignment="Center"
                                        Content="Choosing energy efficient sleep settings"
                                        NavigateUri="https://go.microsoft.com/fwlink/?linkid=2185388" />
                                </StackPanel>
                            </ikw:SimpleStackPanel>
                        </ikw:SimpleStackPanel>
                    </ui:SettingsExpander.ItemsHeader>
                </ui:SettingsExpander>

                <ui:SettingsExpander Description="Choose what happens when you interact with your device's physical controls" Header="Lid, power &amp; sleep button controls">
                    <ui:SettingsExpander.ItemsHeader>
                        <ikw:SimpleStackPanel Spacing="1">
                            <Border Background="{DynamicResource SettingsCardBackground}">
                                <ikw:SimpleStackPanel Margin="8,12,8,12" Spacing="4">
                                    <TextBlock
                                        Margin="4"
                                        VerticalAlignment="Center"
                                        FontSize="14"
                                        FontWeight="Bold"
                                        Foreground="{ui:ThemeResource {x:Static ui:ThemeKeys.TextFillColorPrimaryBrushKey}}"
                                        Text="Plugged in" />
                                    <ui:SettingsCard Header="Pressing the power button will make my PC">
                                        <ComboBox
                                            DisplayMemberPath="Display"
                                            ItemsSource="{Binding LidPowerSleepButtonOptionItemSource}"
                                            SelectedValue="{Binding PluggedInPowerButton}"
                                            SelectedValuePath="Value" />
                                    </ui:SettingsCard>
                                    <ui:SettingsCard Header="Pressing the sleep button will make my PC">
                                        <ComboBox
                                            DisplayMemberPath="Display"
                                            ItemsSource="{Binding LidPowerSleepButtonOptionItemSource}"
                                            SelectedValue="{Binding PluggedInSleepButton}"
                                            SelectedValuePath="Value" />
                                    </ui:SettingsCard>
                                    <ui:SettingsCard Header="Closing the lid will make my PC">
                                        <ComboBox
                                            DisplayMemberPath="Display"
                                            ItemsSource="{Binding LidPowerSleepButtonOptionItemSource}"
                                            SelectedValue="{Binding PluggedInLidButton}"
                                            SelectedValuePath="Value" />
                                    </ui:SettingsCard>
                                </ikw:SimpleStackPanel>
                            </Border>

                            <Border Background="{DynamicResource SettingsCardBackground}">
                                <ikw:SimpleStackPanel Margin="8,8,8,12" Spacing="4">
                                    <TextBlock
                                        Margin="4"
                                        VerticalAlignment="Center"
                                        FontSize="14"
                                        FontWeight="Bold"
                                        Foreground="{ui:ThemeResource {x:Static ui:ThemeKeys.TextFillColorPrimaryBrushKey}}"
                                        Text="On battery" />
                                    <ui:SettingsCard Header="Pressing the power button will make my PC">
                                        <ComboBox
                                            DisplayMemberPath="Display"
                                            ItemsSource="{Binding LidPowerSleepButtonOptionItemSource}"
                                            SelectedValue="{Binding OnBatteryPowerButton}"
                                            SelectedValuePath="Value" />
                                    </ui:SettingsCard>
                                    <ui:SettingsCard Header="Pressing the sleep button will make my PC">
                                        <ComboBox
                                            DisplayMemberPath="Display"
                                            ItemsSource="{Binding LidPowerSleepButtonOptionItemSource}"
                                            SelectedValue="{Binding OnBatterySleepButton}"
                                            SelectedValuePath="Value" />
                                    </ui:SettingsCard>
                                    <ui:SettingsCard Header="Closing the lid will make my PC">
                                        <ComboBox
                                            DisplayMemberPath="Display"
                                            ItemsSource="{Binding LidPowerSleepButtonOptionItemSource}"
                                            SelectedValue="{Binding OnBatteryLidButton}"
                                            SelectedValuePath="Value" />
                                    </ui:SettingsCard>
                                </ikw:SimpleStackPanel>
                            </Border>
                        </ikw:SimpleStackPanel>
                    </ui:SettingsExpander.ItemsHeader>
                </ui:SettingsExpander>

                <ui:SettingsCard Header="Show notifications when power settings have been updated">
                    <ui:ToggleSwitch IsOn="{Binding ShowNotifications, Mode=TwoWay}" />
                </ui:SettingsCard>
            </ikw:SimpleStackPanel>
        </ui:ScrollViewerEx>
    </Grid>
</Window>